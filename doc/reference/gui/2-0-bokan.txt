★母艦について

♪概要
　なでしこで母艦とはメインフォームのことです。
「表示」命令など多くの描画命令で母艦への出力を前提としているものが
多くあります。

■母艦とは何？

　母艦とはメインフォームです。実際、母艦はフォームとして
生成されています。

母艦のタイトルバーを変更したいときは『母艦は「ｘｘｘ」』または
『母艦のテキストは「ｘｘｘ」』と書きます。
（このとき描画処理反映も暗に呼ばれます。）

♪ソース〜＠＠
母艦は「ソフトのタイトル」
＠＠

『線』や『四角』などの命令でも、どこへ描画するのかの引数を
省略すると母艦に描画されます。

♪ソース〜＠＠
0,0から100,100へ線
100,100から200,200へ四角
＠＠

■母艦の大きさを変える

母艦の大きさを変えるには、『母艦のW＝1024』や『母艦のH＝600』などと
WやHの値を変えます。
Wが横幅(Widthの略)で、Hが高さ(Heightの略)を表します。

また、『母艦を最大化』と書くと画面いっぱいになります。
元に戻すには『母艦を元通り』と書きます。


■デスクトップマスコットにする場合

母艦に絵を描いて、母艦の形を絵の通りにする方法があります。

♪ソース〜＠＠
母艦の画像は「{ランタイムパス}lib\wani.gif」
母艦を画像通り変形
母艦をダブルクリックした時は〜終わる
＠＠

上のプログラムを実行すると、母艦にワニの絵を描き
母艦を画像通り変形させて、ワニのようにします。
この場合ドラッグで母艦を移動できるようになりますが、
終了するにはタスクバーから終了させる必要があるので
ダブルクリックしたら終わりなどと終了条件を指定する必要が
あります。

■閉じるボタンで終わらせたくない場合

母艦の閉じるボタンを押すとプログラムが終了します。
しかし、閉じるボタンを押したときに、終わりたくない場合が
あります。その場合、『母艦の終了可能はいいえ』と書いておくと
終了しなくなります。

♪ソース〜＠＠
母艦の終了可能はオフ。
母艦をダブルクリックした時は〜
　　母艦の終了可能はオン
    終わり
＠＠

■ゲームでキーの入力をチェックしたいとき

ゲームを作るときなど、どのカーソルキーが押されているのか
調べたいときがあります。

その場合は「(キーコード)のキー状態」という命令で
そのキーが押されていればオン、離れていればオフと使えます。

♪ソース〜＠＠
表示用とはラベル。
「ENTERで終了」と表示
オンの間
　　もし、37/*←*/のキー状態がオンならば表示用は「←」
    もし、38/*↑*/のキー状態がオンならば表示用は「↑」
　　もし、39/*→*/のキー状態がオンならば表示用は「→」
　　もし、40/*↓*/のキー状態がオンならば表示用は「↓」
    もし、13/*ENTER*/のキー状態がオンならば終わり。
    0.01秒待つ
＠＠

また、キー押された時に何か処理を行いたい場合は、
「母艦のキー押したとき」イベントを設定します。
そのとき、押されたキーのコードは「母艦の押された仮想キー」に
代入されます。

♪ソース〜＠＠
# カーソルの↑を押すとキーコードの38が表示される
母艦のキー押した時は〜
　　母艦の押された仮想キーを表示。
＠＠

キー関連のイベントには「キー押した時」「キー離した時」
「キータイピング時」と３種類あります。

「キータイピング時」には「母艦の押されたキー」に押されたキーの
文字が代入されます。

♪ソース〜＠＠
# a を押せば a が表示される
母艦のキータイピング時は〜
　　母艦の押されたキーを表示。
＠＠

イベントの発生の順番は

「キー押した時」→「キータイピング時」→「キー離した時」

で発生します。

